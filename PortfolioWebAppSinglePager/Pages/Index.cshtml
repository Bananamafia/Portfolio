@page
@model IndexModel
@{
}

<div id="Index">

</div>


<div id="AboutMe">

</div>


<div id="PorjectOverview">

</div>


<div id="Skillset">

    <h1>Mein Skillset</h1>

    @foreach (var category in Model.SkillCategories)
    {
        <div id="@category">

            <h2>@category</h2>
            @{
                List<Models.Skill> skillsOfCategory = Model.MySkills.Where(c => c.Category == category).ToList();
                int skillsToShow = 3;
                int numberOfSkillsInCategory = skillsOfCategory.Count();
            }

            @*Normal Size Screen*@
            <div class="d-none d-sm-block">
                <div class="row">
                    @foreach (var skill in skillsOfCategory)
                    {
                        <div class="col-lg-3 col-md-4 col-sm-6">

                            @skill.Name
                            <div class="progress mb-3 mr-5">
                                <div class="progress-bar"
                                     role="progressbar"
                                     style="width: @(skill.SkillRating*20)%"
                                     aria-valuenow=@skill.SkillRating
                                     aria-valuemin="0"
                                     aria-valuemax="5">
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            @*Small Size Screen*@
            <div class="d-block d-sm-none">
                <div class="row">

                    @for (int i = 0; i < skillsToShow; i++)
                    {
                        if (i < numberOfSkillsInCategory)
                        {
                            <div class="col-12">

                                @skillsOfCategory[i].Name
                                <div class="progress mb-3 mr-5">
                                    <div class="progress-bar"
                                         role="progressbar"
                                         style="width: @(skillsOfCategory[i].SkillRating*20)%"
                                         aria-valuenow=@skillsOfCategory[i].SkillRating
                                         aria-valuemin="0"
                                         aria-valuemax="5">
                                    </div>
                                </div>
                            </div>
                        }
                    }

                    @if (numberOfSkillsInCategory > skillsToShow)
                    {
                        <div class="show multi-collapse col-12" id="@category-moreSkills">
                            <div class="d-flex justify-content-center">
                                <button class="btn btn-light"
                                        type="button"
                                        data-toggle="collapse"
                                        data-target=".multi-collapse"
                                        aria-expanded="false"
                                        aria-controls="@category-hiddenSkills @category-lessSkills">
                                    <i class="fas fa-angle-down"></i>
                                </button>
                            </div>
                        </div>

                        @for (int i = skillsToShow; i < numberOfSkillsInCategory; i++)
                        {
                            <div class="collapse multi-collapse col-12" id="@category-hiddenSkills">
                                @skillsOfCategory[i].Name
                                <div class="progress mb-3 mr-5">
                                    <div class="progress-bar"
                                         role="progressbar"
                                         style="width: @(skillsOfCategory[i].SkillRating*20)%"
                                         aria-valuenow=@skillsOfCategory[i].SkillRating
                                         aria-valuemin="0"
                                         aria-valuemax="5">
                                    </div>
                                </div>
                            </div>
                        }

                        <div class="collapse multi-collapse col-12" id="@category-lessSkills">
                            <div class="d-flex justify-content-center">
                                <button class="btn btn-light"
                                        type="button"
                                        data-toggle="collapse"
                                        data-target=".multi-collapse"
                                        aria-expanded="false"
                                        aria-controls="@category-hiddenSkills @category-moreSkills">
                                    <i class="fas fa-angle-up"></i>
                                </button>
                            </div>
                        </div>
                    }
                </div>
            </div>

        </div>
    }

</div>


<div id="Contact">

</div>